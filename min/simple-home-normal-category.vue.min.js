(()=>{return(e,i)=>{const t=`<div class=category-view :class="{'new-activity-loading': newActivity.loading,'new-post-loading': newPost.loading,'rank-loading': rank.loading}"><div class="new-activity loading"></div><div class="new-post loading"></div><div class="rank loading"></div><slideshow-cards class=new-activity :cards=newActivity.videos :error=newActivity.error></slideshow-cards><slideshow-cards class=new-post :cards=newPost.videos :error=newPost.errors></slideshow-cards><div class=rank></div></div>`;i.applyStyleFromText(`.category-view{display:grid;grid-template:"new-activity rank" 1fr "new-post rank" 1fr/3fr 1fr;grid-gap:24px;gap:24px}.category-view,.category-view *,.category-view ::after,.category-view ::before{transition:.2s ease-out}@keyframes normal-category-loading{from{background-color:#8882}to{background-color:#8881}}.category-view .loading{opacity:0;pointer-events:none;height:100%;width:100%;border-radius:16px;animation:.64s ease-in-out infinite alternate normal-category-loading}.category-view .loading.new-activity{height:40vh}.category-view .new-activity{grid-area:new-activity}.category-view.new-activity-loading .new-activity.loading{opacity:1;pointer-events:initial}.category-view.new-activity-loading .new-activity:not(.loading){opacity:0;pointer-events:none}.category-view .new-post{grid-area:new-post}.category-view.new-post-loading .new-post.loading{opacity:1;pointer-events:initial}.category-view.new-post-loading .new-post:not(.loading){opacity:0;pointer-events:none}.category-view .rank{grid-area:rank}.category-view.rank-loading .rank.loading{opacity:1;pointer-events:initial}.category-view.rank-loading .rank:not(.loading){opacity:0;pointer-events:none}`,"simple-home-normal-category-style");return{export:Object.assign({template:t},{components:{SlideshowCards:()=>i.importAsync("slideshow-cards.vue")},props:{rid:{type:Number,required:true}},data(){return{newActivity:{error:false,loading:true,videos:[]},newPost:{error:false,loading:true,videos:[]},rank:{error:false,loading:true,videos:[]}}},methods:{async loadNewActivity(){try{const e=await Ajax.getJson(`https://api.bilibili.com/x/web-interface/dynamic/region?ps=10&rid=1`);if(e.code!==0){this.newActivity.error=true}const{getWatchlaterList:t}=await i.importAsync("watchlater-api");const a=getUID();const o=a?await t():[];const n=_.get(e,"data.archives",[]);const r=n.map(e=>{return{id:e.aid,aid:e.aid,coverUrl:e.pic,title:e.title,upName:e.owner.name,upFaceUrl:e.owner.face,upID:e.owner.mid,playCount:e.stat.view,danmakuCount:e.stat.danmaku,like:e.stat.like,coins:e.stat.coin,description:e.desc,watchlater:a?o.includes(e.aid):null}});this.newActivity.videos=r}catch(e){logError(e)}finally{this.newActivity.loading=false}},async loadNewPost(){},async loadRank(){},updateVideos(){this.loadNewActivity();this.loadNewPost();this.loadRank()}},watch:{rid(e){if(e>0){this.updateVideos()}else{console.warn(`rid=${e}`)}}},mounted(){console.log(this.rid);this.updateVideos()}})}}})();