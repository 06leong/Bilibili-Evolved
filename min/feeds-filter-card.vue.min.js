(()=>{return(e,t)=>{const d=`<div class=feeds-filter><h1>动态过滤</h1><h2>类型</h2><div class=filter-types><filter-type-switch v-for="[name, type] of allTypes":name=name :type=type :key=type.id></filter-type-switch></div></div>`;t.applyStyleFromText(`body.feeds-filter-block-audio .feed-card .card[data-type="256"],body.feeds-filter-block-bangumi .feed-card .card[data-type="512"],body.feeds-filter-block-column .feed-card .card[data-type="64"],body.feeds-filter-block-miniVideo .feed-card .card[data-type="16"],body.feeds-filter-block-repost .feed-card .card[data-type="1"],body.feeds-filter-block-share .feed-card .card[data-type="2048"],body.feeds-filter-block-text .feed-card .card[data-type="4"],body.feeds-filter-block-textWithImages .feed-card .card[data-type="2"],body.feeds-filter-block-video .feed-card .card[data-type="8"]{display:none!important}.feeds-filter{background-color:#fff;width:100%;padding:12px 16px;float:left;border-radius:4px;margin-top:8px;box-sizing:border-box;display:flex;flex-direction:column}.feeds-filter,.feeds-filter *{transition:.2s ease-out}body.dark .feeds-filter{color:#eee;background-color:#444}.feeds-filter h1{font-weight:400;font-size:14px;margin:0 0 14px}.feeds-filter h2{font-weight:700;font-size:12px;margin:0 0 12px}.feeds-filter .filter-types{display:flex;flex-wrap:wrap;justify-content:space-between}.feeds-filter .filter-types .filter-type-switch{flex:0 0 49%}.feeds-filter .filter-types .filter-type-switch:not(:last-child){margin-bottom:4px}`,"feeds-filter-card-style");return{export:Object.assign({template:d},{components:{FilterTypeSwitch:()=>t.importAsync("filter-type-switch.vue")},methods:{updateCard(t){if(e.feedsFilterPatterns.some(e=>{if(e instanceof RegExp){return e.test(t.text)}return t.text.includes(e)})){t.element.style.display="none"}else{t.element.style.display="block"}}},data(){return{allTypes:[]}},async mounted(){const{feedsCardsManager:e,feedsCardTypes:d}=await t.importAsync("feeds-apis");const a=await e.startWatching();if(!a){console.error("feedsCardsManager.startWatching() failed!")}this.allTypes=Object.entries(d);e.cards.forEach(e=>this.updateCard(e));e.addEventListener("addCard",e=>{const t=e.detail;this.updateCard(t)})}})}}})();