(()=>{return(e,t)=>{const r=()=>{SpinQuery.select(".custom-scrollbar").then(e=>e&&e.classList.remove("custom-scrollbar"))};const l=()=>{document.body.classList.remove("dark");t.removeStyle("darkStyleNavBar");t.removeStyle("darkStyle");t.removeStyle("darkStyleImportant")};const a=[/^https:\/\/member\.bilibili\.com\/v2/,/^https:\/\/member\.bilibili\.com\/video\/upload.html/,/^https:\/\/member\.bilibili\.com\/article-text\/home[\/]?/,/^https:\/\/www\.bilibili\.com\/audio\/submit[\/]?/];const o=()=>{if(e.noDarkOnMember&&a.some(e=>{if(typeof e==="string"){return document.URL.replace(location.search,"")===e}else{return e.test(document.URL.replace(location.search,""))}})){l();return}document.body.classList.add("dark");r();if(!e.useDarkStyleAsUserStyle){t.applyImportantStyle("darkStyleNavBar");t.applyStyle("darkStyle");t.applyImportantStyle("darkStyleImportant")}};o();addSettingsListener("useDarkStyleAsUserStyle",()=>{l();o()});return{reload:o,unload:l}}})();